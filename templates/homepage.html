{% extends 'base.html' %}
{% block title %}ReadMe{% endblock%}

{% block content%}
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="#">ReadMe</a>
    </div>
      <ul class="nav navbar-nav">
        <li><a href="#">About</a></li>
        <li><a href="#">Writer Mode</a></li>
        <li><a href="#">The Algorithm</a></li>
      </ul>
<!-- beginning of right side of menu -->
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Login</a></li>
      </ul>
  </div><!-- /.container-fluid -->
</nav>
 <!--- end of nav bar container -->

<div class="container">
<div class="row main-search">
    <div class="col-md-6 col-md-offset-3">
        <div id="prefetch">
        <input id="search" class="typeahead" type="text" placeholder="Search for a Poem by Title or Author">
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-3 col-md-offset-3">
            <p class="search-option right-align"><a href="#">Random Poem</a></p>
    </div>
    <div class="col-md-3">
        <p class="search-option"><a href="#">Advanced Search</a></p>
    </div>
</div>

<script>

var poems = new Bloodhound({
    prefetch: {
        url: 'static/searchpoems.json',
        transform: function(response) {
            console.log(response);
            return response;
        }
    },
    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('title'),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
});

$('#prefetch .typeahead').typeahead(null, {
  name: 'poems',
  displayKey: 'title',
  hint: true,
  minLength: 3,
  source: poems.ttAdapter()
});

</script>
{% endblock%}